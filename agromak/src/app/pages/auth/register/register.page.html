<ion-content class="ion-padding">

  <!-- Register Page -->
  <div class="page">
    <div>
      <div class="container">
        <div class="header">
          <ion-title class="title">
            Create Account
            <p class="subtitle">Sign up to get started</p>
          </ion-title>
        </div>

        <form [formGroup]="form" (ngSubmit)="register()">
          <ion-list>

            <!--            <ion-item>-->
            <!--              <ion-input-->
            <!--                fill="solid"-->
            <!--                label="Email Address"-->
            <!--                labelPlacement="stacked"-->
            <!--                clearInput-->
            <!--                formControlName="email"-->
            <!--                type="email">-->
            <!--                <ion-icon name="person-outline" slot="start" aria-hidden="true"></ion-icon>-->
            <!--                <ion-button fill="clear" slot="end" aria-label="Show/hide">-->
            <!--                  <ion-icon slot="icon-only" name="eye" aria-hidden="true"></ion-icon>-->
            <!--                </ion-button>-->
            <!--              </ion-input>-->
            <!--            </ion-item>-->

            <ion-item lines="none">
              <ion-input
                labelPlacement="stacked"
                label="Email"
                placeholder="Email Address"
                formControlName="email"
                type="email"
                helperText="Enter a valid email"
                errorText="Invalid email"
              >
                <ion-icon slot="start" name="person-outline" aria-hidden="true"></ion-icon>
              </ion-input>
            </ion-item>


            <!--          <ng-container *ngFor="let validation of formErrorMessages.email">-->
            <!--            <div class="error-message"-->
            <!--                 *ngIf="email.hasError(validation.type) && (email.dirty || email.touched)">-->
            <!--              {{ validation.message }}-->
            <!--            </div>-->
            <!--          </ng-container>-->

<!--            <ion-item class="ion-margin-top" fill="solid">-->
<!--              <ion-input-->
<!--                clearOnEdit="false"-->
<!--                formControlName="password"-->
<!--                label="Password"-->
<!--                labelPlacement="floating"-->
<!--                placeholder="Password"-->
<!--              />-->
<!--              <ion-icon name="lock-closed" slot="start" size="medium"></ion-icon>-->

<!--            </ion-item>-->

            <ion-item class="ion-margin-top" lines="none">
              <ion-input
                clearOnEdit="false"
                labelPlacement="stacked"
                label="Password"
                placeholder="Password"
                formControlName="password"
                type="password"
                errorText="Password must be at least 8 characters long"
              >
                <ion-icon slot="start" name="lock-closed" aria-hidden="true"></ion-icon>
                <ion-button fill="clear" slot="end" aria-label="Show/hide">
                  <ion-icon slot="icon-only" name="eye" aria-hidden="true"></ion-icon>
                </ion-button>
              </ion-input>
            </ion-item>

<!--            <ng-container *ngFor="let validation of formErrorMessages.password">-->
<!--              <div class="error-message"-->
<!--                   *ngIf="password.hasError(validation.type) && (password.dirty || password.touched)">-->
<!--                {{ validation.message }}-->
<!--              </div>-->
<!--            </ng-container>-->


<!--            <ion-item class="ion-margin-top" fill="solid">-->
<!--              <ion-input-->
<!--                clearOnEdit="false"-->
<!--                formControlName="confirmPassword"-->
<!--                label="Confirm Password"-->
<!--                labelPlacement="floating"-->
<!--                placeholder="Confirm password"-->
<!--                type="password"-->
<!--              />-->
<!--              <ion-icon name="lock-closed" slot="start" size="medium"></ion-icon>-->
<!--            </ion-item>-->

            <ion-item class="ion-margin-top" lines="none">
              <ion-input
                clearOnEdit="false"
                labelPlacement="stacked"
                label="Confirm Password"
                placeholder="Confirm Password"
                formControlName="confirmPassword"
                type="password"
                errorText="Passwords must match"
              >
                <ion-icon slot="start" name="lock-closed" aria-hidden="true"></ion-icon>
                <ion-button fill="clear" slot="end" aria-label="Show/hide">
                  <ion-icon slot="icon-only" name="eye" aria-hidden="true"></ion-icon>
                </ion-button>
              </ion-input>
            </ion-item>
            <ng-container *ngIf="form.errors && form.errors['mismatch'] !== null && confirmPassword.touched && confirmPassword.value">
              <div class="error-message">
                Passwords must match
              </div>
            </ng-container>
            <br/>

          </ion-list>
          <ion-button [disabled]="form.invalid" expand="block" shape="round" size="large" type="submit">Register</ion-button>
        </form>
      </div>

      <div class="text-center ion-margin-top ion-margin-bottom">
        or
      </div>

      <ion-button (click)="signUpWithGoogle()" color="dark" expand="block" size="large" shape="round">
        <ion-icon name="logo-google" slot="start"></ion-icon>
        Sign up with Google
      </ion-button>
    </div>

    <div class="signup-text text-center">
      Already have an account?
      <br>
      <ion-text color="primary" class="ion-text" [routerLink]="['/login']">Log In</ion-text>
    </div>
  </div>
</ion-content>
